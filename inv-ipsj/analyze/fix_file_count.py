compile_commands_list = set([
    "0x90/wifi-arsenal",
    "504ensicsLabs/LiME",
    "abishekvashok/cmatrix",
    "acassen/keepalived",
    "acidanthera/Lilu",
    "acidanthera/OpenCorePkg",
    "adafruit/Adafruit-GFX-Library",
    "AdAway/AdAway",
    "addy-dclxvi/almighty-dotfiles",
    "adrianlopezroche/fdupes",
    "adsr/phpspy",
    "aergoio/litetree",
    "ahrm/sioyek",
    "Airblader/i3",
    "akheron/jansson",
    "akopytov/sysbench",
    "albfan/miraclecast",
    "Aleksoid1978/MPC-BE",
    "alephsecurity/xnu-qemu-arm64",
    "AlexAltea/orbital",
    "alexdobin/STAR",
    "alibaba/GCanvas",
    "alibaba/tengine",
    "alibaba/xquic",
    "AllAlgorithms/c",
    "allinurl/goaccess",
    "alols/xcape",
    "altdesktop/playerctl",
    "AltraMayor/f3",
    "amadvance/snapraid",
    "amnezia-vpn/amnezia-client",
    "andlabs/libui",
    "andmarti1424/sc-im",
    "andrewrk/libsoundio",
    "ands/lightmapper",
    "answer-huang/dSYMTools",
    "antirez/dump1090",
    "antirez/hping",
    "antirez/kilo",
    "antirez/linenoise",
    "antirez/neural-redis",
    "antirez/sds",
    "antirez/smallchat",
    "apache/age",
    "apache/guacamole-server",
    "apple/cups",
    "apple/darwin-xnu",
    "apple/HomeKitADK",
    "archagon/sensible-side-buttons",
    "ardagnir/athame",
    "ardera/flutter-pi",
    "arjun024/mkernel",
    "arkdb/inception",
    "armink/EasyFlash",
    "armink/EasyLogger",
    "armink/FreeModbus_Slave-Master-RTT-STM32",
    "arut/nginx-rtmp-module",
    "ashima/webgl-noise",
    "atar-axis/xpadneo",
    "atc1441/ATC_MiThermometer",
    "attractivechaos/klib",
    "audacity/audacity",
    "Awesome-HarmonyOS/HarmonyOS",
    "aws/amazon-freertos",
    "axboe/fio",
    "axboe/liburing",
    "axel-download-accelerator/axel",
    "B-Con/crypto-algorithms",
    "b4winckler/macvim",
    "baidu/dperf",
    "bake-bake-bake/bakeware",
    "basil00/Divert",
    "baskerville/bspwm",
    "baskerville/sxhkd",
    "beanstalkd/beanstalkd",
    "begeekmyfriend/bplustree",
    "begeekmyfriend/yasea",
    "betaflight/betaflight",
    "bilibili/ijkplayer",
    "bingoogolapple/BGAQRCode-Android",
    "bitnine-oss/agensgraph",
    "blackmagic-debug/blackmagic",
    "blinker-iot/blinker-nRF52",
    "bol-van/zapret",
    "bootchk/resynthesizer",
    "bootleg/ret-sync",
    "brendan-rius/c-jwt-cracker",
    "brunodev85/winlator",
    "buaazp/zimg",
    "Bumblebee-Project/Bumblebee",
    "bytecode77/r77-rootkit",
    "bytedance/bhook",
    "bztsrc/raspi3-tutorial",
    "c-ares/c-ares",
    "c9s/Pux",
    "CameraKit/camerakit-android",
    "canonical/dqlite",
    "capstone-engine/capstone",
    "cbsheng/tinyhttpd",
    "cc65/cc65",
    "cesanta/mjs",
    "cesanta/mongoose",
    "cesanta/v7",
    "cgdb/cgdb",
    "checkpoint-restore/criu",
    "checkra1n/PongoOS",
    "chenyahui/AnnotatedCode",
    "chjj/compton",
    "chobits/ngx_http_proxy_connect_module",
    "chocolate-doom/chocolate-doom",
    "ChristopheJacquet/PiFmRds",
    "cilium/pwru",
    "Cisco-Talos/clamav",
    "citusdata/cstore_fdw",
    "citusdata/pg_cron",
    "civetweb/civetweb",
    "cjdelisle/cjdns",
    "cleanflight/cleanflight",
    "clibs/clib",
    "cloudius-systems/osv",
    "cloudwu/coroutine",
    "cloudwu/pbc",
    "cnlohr/espusb",
    "cnlohr/rawdrawandroid",
    "cockpit-project/cockpit",
    "codeplea/tinyexpr",
    "cokemine/ServerStatus-Hotaru",
    "commaai/panda",
    "concurrencykit/ck",
    "confluentinc/librdkafka",
    "conorpp/u2f-zero",
    "contiki-os/contiki",
    "coolsnowwolf/lede",
    "cossacklabs/themis",
    "coturn/coturn",
    "cpq/bare-metal-programming-guide",
    "cr-marcstevens/sha1collisiondetection",
    "CTCaer/hekate",
    "CTurt/FreeDVDBoot",
    "cuber/ngx_http_google_filter_module",
    "cundong/SmartAppUpdates",
    "curl/curl",
    "curl/trurl",
    "Cyan4973/xxHash",
    "cyd01/KiTTY",
    "cyring/CoreFreq",
    "DanBloomberg/leptonica",
    "danielwaterworth/Raphters",
    "danigargu/CVE-2020-0796",
    "DarkFlippers/unleashed-firmware",
    "darktable-org/darktable",
    "dav/word2vec",
    "Dav1dde/glad",
    "davatorium/rofi",
    "DaveGamble/cJSON",
    "dekuNukem/bob_cassette_rewinder",
    "dekuNukem/daytripper",
    "dekuNukem/Nintendo_Switch_Reverse_Engineering",
    "derf/feh",
    "destan19/OpenAppFilter",
    "dgiese/dustcloud",
    "diracdeltas/FastestWebsiteEver",
    "djkaty/Il2CppInspector",
    "djpohly/dwl",
    "dlundquist/sniproxy",
    "DNSPod/dnspod-sr",
    "DoctorWkt/acwj",
    "dog-qiuqiu/MobileNet-Yolo",
    "dokan-dev/dokany",
    "DreamAndDead/CSAPP-3e-Solutions",
    "dresden-elektronik/deconz-rest-plugin",
    "droe/sslsplit",
    "dunst-project/dunst",
    "dvorka/hstr",
    "DynamoRIO/drmemory",
    "DynamoRIO/dynamorio",
    "dynup/kpatch",
    "earlephilhower/ESP8266Audio",
    "EasyHook/EasyHook",
    "eclipse/mraa",
    "eclipse/paho.mqtt.c",
    "edenhill/kcat",
    "eggert/tz",
    "ElementsProject/lightning",
    "elfmz/far2l",
    "ellson/MOTHBALLED-graphviz",
    "emscripten-core/emscripten",
    "emsec/ChameleonMini",
    "emweb/wt",
    "endrazine/wcc",
    "eradman/entr",
    "erich666/GraphicsGems",
    "EricssonResearch/openwebrtc",
    "esnet/iperf",
    "esp8266/esp8266-wiki",
    "espeak-ng/espeak-ng",
    "espressif/esp-adf",
    "espressif/esp-idf",
    "espruino/Espruino",
    "Ettercap/ettercap",
    "evanw/thinscript",
    "Ewenwan/ShiYanLou",
    "Exely/CSAPP-Labs",
    "ExistentialAudio/BlackHole",
    "EZLippi/Tinyhttpd",
    "EZLippi/WebBench",
    "F-Stack/f-stack",
    "f0rb1dd3n/Reptile",
    "facebook/fishhook",
    "facebook/zstd",
    "facebookarchive/libphenom",
    "facebookresearch/darkforestGo",
    "Facico/Chinese-Vicuna",
    "fastos/fastsocket",
    "FASTSHIFT/X-TRACK",
    "feiskyer/sdn-handbook",
    "FelixKratz/SketchyBar",
    "FeralInteractive/gamemode",
    "FFmpeg/FFmpeg",
    "ffmpegwasm/ffmpeg.wasm",
    "FFTW/fftw3",
    "firmianay/CTF-All-In-One",
    "flatpak/flatpak",
    "flightlessmango/MangoHud",
    "Flipper-XFW/Xtreme-Firmware",
    "floooh/sokol",
    "flutter/codelabs",
    "FlyGoat/RyzenAdj",
    "fogleman/Craft",
    "fontforge/fontforge",
    "foobnix/LibreraReader",
    "Foundry376/Mailspring",
    "freebsd/freebsd-src",
    "FreeRDP/FreeRDP",
    "FRRouting/frr",
    "fukuchi/libqrencode",
    "fulldecent/system-bus-radio",
    "fwupd/fwupd",
    "gatieme/LDD-LinuxDeviceDrivers",
    "gdbinit/MachOView",
    "geany/geany",
    "gentilkiwi/kekeo",
    "gentilkiwi/mimikatz",
    "Genymobile/scrcpy",
    "geohot/qira",
    "ggerganov/ggml",
    "ggerganov/llama.cpp",
    "ggreer/the_silver_searcher",
    "GiacomoLaw/Keylogger",
    "giltene/wrk2",
    "git/git",
    "github/glb-director",
    "glfw/glfw",
    "glouw/paperview",
    "glouw/tinn",
    "gnab/rtl8812au",
    "gnea/grbl",
    "GNOME/glib",
    "Gnucash/gnucash",
    "gojue/ecapture",
    "golang-ui/nuklear",
    "google-ar/arcore-android-sdk",
    "google/AFL",
    "google/boringssl",
    "google/google-authenticator-libpam",
    "google/honggfuzz",
    "google/sanitizers",
    "google/security-research",
    "google/wuffs",
    "google/XNNPACK",
    "googleprojectzero/winafl",
    "gozfree/gear-lib",
    "gpac/gpac",
    "GPUOpen-Effects/FidelityFX-FSR2",
    "GPUOpen-LibrariesAndSDKs/VulkanMemoryAllocator",
    "grbl/grbl",
    "greatscottgadgets/hackrf",
    "greatscottgadgets/ubertooth",
    "greenbone/openvas-scanner",
    "greenplum-db/gpdb",
    "gsliepen/tinc",
    "guillaumechereau/goxel",
    "h2o/h2o",
    "h2o/picohttpparser",
    "h3xduck/TripleCross",
    "haad/proxychains",
    "haampie/libtree",
    "hackerschoice/thc-tips-tricks-hacks-cheat-sheet",
    "haiwen/seafile",
    "hanslub42/rlwrap",
    "hanwckf/rt-n56u",
    "HarbourMasters/Shipwright",
    "hashcat/hashcat",
    "hashcat/hashcat-legacy",
    "hasherezade/hollows_hunter",
    "helloexp/0day",
    "henkman/virgo",
    "henrypp/memreduct",
    "henrypp/simplewall",
    "hfiref0x/UACME",
    "hishamhm/htop",
    "hlldz/Phant0m",
    "hmgle/graftcp",
    "hnes/libaco",
    "holzschu/a-shell",
    "hpjansson/chafa",
    "htacg/tidy-html5",
    "htop-dev/htop",
    "huangz1990/annotated_redis_source",
    "huggingface/neuralcoref",
    "hydradatabase/hydra",
    "HyperDbg/HyperDbg",
    "hzqst/VmwareHardenedLoader",
    "IAIK/meltdown",
    "IanHarvey/bluepy",
    "ibireme/yyjson",
    "icholy/ttygif",
    "id-Software/DOOM",
    "id-Software/Quake-2",
    "id-Software/Quake-III-Arena",
    "id-Software/quake2-rerelease-dll",
    "igraph/igraph",
    "iliasam/OpenSimpleLidar",
    "ImageMagick/ImageMagick",
    "imbushuo/mac-precision-touchpad",
    "immortalwrt/immortalwrt",
    "ImVexed/muon",
    "iNavFlight/inav",
    "inspektor-gadget/inspektor-gadget",
    "IoLanguage/io",
    "ionescu007/SimpleVisor",
    "iovisor/bcc",
    "iPlug2/iPlug2",
    "iqiyi/xHook",
    "ireader/media-server",
    "isometimes/rpi4-osdev",
    "ithewei/libhv",
    "itm4n/PrintSpoofer",
    "ivmai/bdwgc",
    "jacksonliam/mjpg-streamer",
    "jakehilborn/displayplacer",
    "jarikomppa/soloud",
    "jart/blink",
    "jart/cosmopolitan",
    "jarun/nnn",
    "jbush001/NyuziProcessor",
    "jdah/minecraft-weekend",
    "jech/polipo",
    "jedisct1/dsvpn",
    "jedisct1/libsodium",
    "jemalloc/jemalloc",
    "jeremycw/httpserver.h",
    "jerryscript-project/iotjs",
    "jerryscript-project/jerryscript",
    "jgaeddert/liquid-dsp",
    "jgamblin/Mirai-Source-Code",
    "jgarff/rpi_ws281x",
    "jhawthorn/fzy",
    "jjgod/mac-dictionary-kit",
    "jmcnamara/libxlsxwriter",
    "joan2937/pigpio",
    "JoeDog/siege",
    "johnxnguyen/Down",
    "jonas/tig",
    "jonasmr/microprofile",
    "joncampbell123/dosbox-x",
    "jonls/redshift",
    "jordansissel/xdotool",
    "joyent/libuv",
    "jp9000/OBS",
    "jpmens/jo",
    "jqlang/jq",
    "jtesta/ssh-mitm",
    "juhovh/shairplay",
    "julius-speech/julius",
    "julycoding/The-Art-Of-Programming-By-July-2nd",
    "justinfrankel/licecap",
    "justinsteven/dostackbufferoverflowgood",
    "jvm-profiling-tools/perf-map-agent",
    "karlstav/cava",
    "karpathy/llama2.c",
    "kiddin9/openwrt-packages",
    "kingToolbox/WindTerm",
    "kiukotsu/ucore",
    "kkos/oniguruma",
    "klange/toaruos",
    "kn007/silk-v3-decoder",
    "koekeishiya/skhd",
    "koekeishiya/yabai",
    "kohler/gifsicle",
    "kokke/tiny-AES-c",
    "kornelski/pngquant",
    "kosua20/herebedragons",
    "krakjoe/parallel",
    "krakjoe/pthreads",
    "krallin/tini",
    "kripken/box2d.js",
    "lambertjamesd/portal64",
    "landley/toybox",
    "langhuihui/jessibuca",
])

import json
import os


def count_files(id: str):
    compile_json_path = os.path.join(
        "/home/cysec/develop/.y2k38-checker/analysis-objects",
        id.replace("/", "__"),
        "compile_commands.json"
    )
    with open(compile_json_path, 'r') as file:
        json_list = json.load(file)
    return len(json_list)


import pandas as pd
import numpy as np

df = pd.read_csv('../log/analysis.csv')

df['count_files'] = np.where(
    pd.isna(df['count_files']),
    df['id'].apply(count_files),
    df['count_files']).astype(int)

print(df)

df.to_csv('../log/updated_file.csv', index=False)
